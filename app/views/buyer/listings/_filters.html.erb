<div class="bg-white rounded-xl shadow-sm p-6">
  <%= form_with url: buyer_listings_path, method: :get, class: "space-y-4" do |f| %>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- Deal Type Filter -->
      <div>
        <%= f.label :deal_type, "Type de deal", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.select :deal_type, 
          options_for_select([
            ['Tous les types', 'all'],
            ['Deal Direct', 'direct'],
            ['Mandat Idéal Reprise', 'ideal_mandate'],
            ['Mandat Partenaire', 'partner_mandate']
          ], params[:deal_type]), 
          {}, 
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-buyer-500" %>
      </div>

      <!-- Sector Filter -->
      <div>
        <%= f.label :sector, "Secteur", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.select :sector,
          options_for_select([
            ['Tous les secteurs', 'all'],
            ['Commerce', 'commerce'],
            ['Restauration', 'restauration'],
            ['Services', 'services'],
            ['Industrie', 'industrie'],
            ['Construction', 'construction'],
            ['Santé', 'sante'],
            ['Éducation', 'education'],
            ['Tourisme', 'tourisme']
          ], params[:sector]),
          {},
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-buyer-500" %>
      </div>

      <!-- Location Filter -->
      <div>
        <%= f.label :department, "Département", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_field :department,
          placeholder: "Ex: 75, 69, 13...",
          value: params[:department],
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-buyer-500" %>
      </div>

      <!-- Price Range -->
      <div>
        <%= f.label :price_min, "Prix minimum", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.number_field :price_min,
          placeholder: "0 €",
          value: params[:price_min],
          min: 0,
          step: 10000,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-buyer-500" %>
      </div>

      <div>
        <%= f.label :price_max, "Prix maximum", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.number_field :price_max,
          placeholder: "1 000 000 €",
          value: params[:price_max],
          min: 0,
          step: 10000,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-buyer-500" %>
      </div>

      <!-- Revenue Range -->
      <div>
        <%= f.label :revenue_min, "CA minimum", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.number_field :revenue_min,
          placeholder: "0 €",
          value: params[:revenue_min],
          min: 0,
          step: 10000,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-buyer-500" %>
      </div>

      <div>
        <%= f.label :revenue_max, "CA maximum", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.number_field :revenue_max,
          placeholder: "10 000 000 €",
          value: params[:revenue_max],
          min: 0,
          step: 10000,
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-buyer-500" %>
      </div>

      <!-- Search -->
      <div>
        <%= f.label :search, "Recherche", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.text_field :search,
          placeholder: "Mot-clé...",
          value: params[:search],
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-buyer-500" %>
      </div>

      <!-- Sort -->
      <div>
        <%= f.label :sort, "Trier par", class: "block text-sm font-medium text-gray-700 mb-1" %>
        <%= f.select :sort,
          options_for_select([
            ['Plus récent', 'recent'],
            ['CA croissant', 'revenue_asc'],
            ['CA décroissant', 'revenue_desc'],
            ['Prix croissant', 'price_asc'],
            ['Prix décroissant', 'price_desc']
          ], params[:sort]),
          {},
          class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-buyer-500" %>
      </div>
    </div>

    <div class="flex gap-3 pt-2">
      <%= f.submit "Appliquer les filtres", class: "px-6 py-2 bg-buyer-600 text-white rounded-full hover:bg-buyer-700 transition font-medium" %>
      <%= link_to "Réinitialiser", buyer_listings_path, class: "px-6 py-2 border border-gray-300 text-gray-700 rounded-full hover:bg-gray-50 transition font-medium" %>
    </div>
  <% end %>
</div>
