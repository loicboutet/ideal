<% content_for :title, "Renouveler l'abonnement - Partenaire - Idéal Reprise" %>
<% content_for :page_title, "Renouveler l'abonnement" %>

<div class="max-w-4xl mx-auto space-y-6">
  <%= link_to mockups_partner_subscription_path, class: "inline-flex items-center gap-2 text-gray-600 hover:text-gray-900" do %>
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
    </svg>
    Retour à mon abonnement
  <% end %>

  <h2 class="text-2xl font-bold text-gray-900">Renouveler mon abonnement</h2>

  <!-- Renewal Plan -->
  <div class="bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg shadow-lg p-6 text-white">
    <div class="flex items-center justify-between mb-6">
      <div>
        <h3 class="text-2xl font-bold mb-2">Plan Premium</h3>
        <p class="text-purple-100">Renouvellement pour 12 mois</p>
      </div>
      <div class="text-right">
        <div class="text-4xl font-bold">499€</div>
        <div class="text-purple-100 text-sm">HT/an</div>
      </div>
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <p class="text-purple-100 text-sm">Date de renouvellement</p>
        <p class="font-semibold text-lg">Aujourd'hui</p>
      </div>
      <div>
        <p class="text-purple-100 text-sm">Validité jusqu'au</p>
        <p class="font-semibold text-lg">17/10/2026</p>
      </div>
    </div>
  </div>

  <!-- Benefits Reminder -->
  <div class="bg-white rounded-lg shadow-sm p-6">
    <h3 class="text-lg font-bold text-gray-900 mb-4">Avantages inclus</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
      <% [
        'Profil mis en avant avec badge Premium',
        'Statistiques détaillées de performance',
        'Contacts illimités par mois',
        'Support client prioritaire',
        'Galerie photos jusqu\'à 10 images',
        'Section témoignages clients',
        'Personnalisation avancée',
        'Notifications en temps réel'
      ].each do |benefit| %>
        <div class="flex items-center gap-2 text-sm">
          <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
          <span class="text-gray-700"><%= benefit %></span>
        </div>
      <% end %>
    </div>
  </div>

  <!-- Payment Summary -->
  <div class="bg-white rounded-lg shadow-sm p-6">
    <h3 class="text-lg font-bold text-gray-900 mb-4">Récapitulatif de paiement</h3>
    <div class="space-y-3">
      <div class="flex justify-between text-gray-700">
        <span>Abonnement Premium (12 mois)</span>
        <span>499,00€</span>
      </div>
      <div class="flex justify-between text-gray-700">
        <span>TVA (20%)</span>
        <span>99,80€</span>
      </div>
      <div class="h-px bg-gray-200"></div>
      <div class="flex justify-between text-lg font-bold text-gray-900">
        <span>Total TTC</span>
        <span>598,80€</span>
      </div>
    </div>
  </div>

  <!-- Payment Method -->
  <div class="bg-white rounded-lg shadow-sm p-6">
    <h3 class="text-lg font-bold text-gray-900 mb-4">Moyen de paiement</h3>
    <div class="space-y-3">
      <label class="flex items-center gap-4 p-4 border-2 border-teal-500 bg-teal-50 rounded-lg cursor-pointer">
        <input type="radio" name="payment" checked class="w-4 h-4 text-teal-600">
        <div class="flex items-center gap-3 flex-1">
          <div class="w-12 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded flex items-center justify-center text-white text-xs font-bold">
            VISA
          </div>
          <div>
            <p class="font-medium text-gray-900">•••• •••• •••• 4242</p>
            <p class="text-sm text-gray-600">Expire le 12/2027</p>
          </div>
        </div>
      </label>

      <label class="flex items-center gap-4 p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-gray-300">
        <input type="radio" name="payment" class="w-4 h-4 text-teal-600">
        <div class="flex-1">
          <p class="font-medium text-gray-900">Nouvelle carte bancaire</p>
          <p class="text-sm text-gray-600">Ajouter une nouvelle carte</p>
        </div>
      </label>
    </div>
  </div>

  <!-- Terms -->
  <div class="bg-gray-50 rounded-lg p-4">
    <label class="flex items-start gap-3 cursor-pointer">
      <input type="checkbox" class="mt-1 rounded border-gray-300 text-teal-600 focus:ring-teal-500">
      <span class="text-sm text-gray-700">
        J'accepte les <a href="#" class="text-teal-600 hover:underline">conditions générales de vente</a> et autorise le prélèvement automatique de 598,80€ TTC pour le renouvellement de mon abonnement Premium.
      </span>
    </label>
  </div>

  <!-- Actions -->
  <div class="flex gap-3">
    <%= link_to mockups_partner_subscription_path, class: "flex-1 px-6 py-3 border border-gray-300 text-center rounded-full text-gray-700 hover:bg-gray-50 transition font-medium" do %>
      Annuler
    <% end %>
    <button type="submit" class="flex-1 px-6 py-3 bg-teal-600 text-white text-center rounded-full hover:bg-teal-700 transition font-medium">
      Confirmer le renouvellement
    </button>
  </div>
</div>
