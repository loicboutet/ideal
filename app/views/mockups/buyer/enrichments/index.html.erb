<% content_for :title, "Mes enrichissements - Repreneur - Id√©al Reprise" %>
<% content_for :page_title, "Mes enrichissements" %>

<div class="max-w-7xl mx-auto space-y-6">
  <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
    <div>
      <h2 class="text-2xl font-bold text-gray-900">Mes demandes d'enrichissement</h2>
      <p class="text-gray-600 mt-1">3 demandes soumises</p>
    </div>
    <%= link_to new_mockups_buyer_enrichment_path, class: "px-6 py-3 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition font-medium" do %>
      + Nouvelle demande
    <% end %>
  </div>

  <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
    <p class="text-sm text-blue-900">üí° L'enrichissement permet d'obtenir des informations financi√®res d√©taill√©es valid√©es par notre √©quipe. Co√ªt: 10 cr√©dits par demande.</p>
  </div>

  <!-- Enrichments List -->
  <div class="space-y-4">
    <% [
      { id: 1, listing: 'Boulangerie Paris 15√®me', status: 'completed', status_color: 'green', submitted_at: '10/10/2025', completed_at: '12/10/2025', cost: 10 },
      { id: 2, listing: 'Restaurant Lyon', status: 'in_progress', status_color: 'blue', submitted_at: '13/10/2025', completed_at: nil, cost: 10 },
      { id: 3, listing: 'Garage Toulouse', status: 'pending', status_color: 'yellow', submitted_at: '14/10/2025', completed_at: nil, cost: 10 }
    ].each do |enrichment| %>
      <div class="bg-white rounded-xl shadow-sm p-6">
        <div class="flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4">
          <div class="flex-1">
            <div class="flex items-center gap-3 mb-2">
              <h3 class="font-bold text-gray-900"><%= enrichment[:listing] %></h3>
              <% case enrichment[:status] %>
              <% when 'completed' %>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                  ‚úì Compl√©t√©
                </span>
              <% when 'in_progress' %>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                  ‚è≥ En cours
                </span>
              <% when 'pending' %>
                <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                  ‚è∏ En attente
                </span>
              <% end %>
            </div>
            <div class="flex flex-wrap items-center gap-4 text-sm text-gray-600">
              <span>Soumis le <%= enrichment[:submitted_at] %></span>
              <% if enrichment[:completed_at] %>
                <span>‚Ä¢ Compl√©t√© le <%= enrichment[:completed_at] %></span>
              <% end %>
              <span>‚Ä¢ <%= enrichment[:cost] %> cr√©dits</span>
            </div>
          </div>
          <%= link_to mockups_buyer_enrichment_path(enrichment[:id]), class: "px-4 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition font-medium" do %>
            Voir les d√©tails
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
</div>
